{"version":3,"file":"handleClientOnlyJSX.js","sources":["../../../src/start-compiler-plugin/handleClientOnlyJSX.ts"],"sourcesContent":["import type * as t from '@babel/types'\nimport type * as babel from '@babel/core'\n\n/**\n * Handles <ClientOnly> JSX elements on the server side.\n *\n * On the server, the children of <ClientOnly> should be removed since they\n * are client-only code. Only the fallback prop (if present) will be rendered.\n *\n * Transform:\n *   <ClientOnly fallback={<Loading />}>{clientOnlyContent}</ClientOnly>\n * Into:\n *   <ClientOnly fallback={<Loading />} />\n *\n * Or if no fallback:\n *   <ClientOnly>{clientOnlyContent}</ClientOnly>\n * Into:\n *   <ClientOnly />\n */\nexport function handleClientOnlyJSX(\n  path: babel.NodePath<t.JSXElement>,\n  _opts: { env: 'server' },\n): void {\n  const element = path.node\n\n  // Remove all children - they are client-only code\n  element.children = []\n\n  // Make it a self-closing element since there are no children\n  element.openingElement.selfClosing = true\n  element.closingElement = null\n}\n"],"names":[],"mappings":"AAmBO,SAAS,oBACd,MACA,OACM;AACN,QAAM,UAAU,KAAK;AAGrB,UAAQ,WAAW,CAAA;AAGnB,UAAQ,eAAe,cAAc;AACrC,UAAQ,iBAAiB;AAC3B;"}