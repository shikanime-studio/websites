{"version":3,"file":"editor.js","sources":["../../src/editor.ts"],"sourcesContent":["type OpenSourceData = {\n  type: 'open-source'\n  data: {\n    /** The source file to open */\n    source?: string\n    /** The react router route ID, usually discovered via the hook useMatches */\n    routeID?: string\n    /** The line number in the source file */\n    line?: number\n    /** The column number in the source file */\n    column?: number\n  }\n}\n\nexport type EditorConfig = {\n  /** The name of the editor, used for debugging purposes */\n  name: string\n  /** Callback to open a file in the editor */\n  open: (\n    path: string,\n    lineNumber: string | undefined,\n    columnNumber?: string,\n  ) => Promise<void>\n}\n\nexport const DEFAULT_EDITOR_CONFIG: EditorConfig = {\n  name: 'VSCode',\n  open: async (path, lineNumber, columnNumber) => {\n    const launch = (await import('launch-editor')).default\n    launch(\n      `${path.replaceAll('$', '\\\\$')}${lineNumber ? `:${lineNumber}` : ''}${columnNumber ? `:${columnNumber}` : ''}`,\n      undefined,\n      (filename, err) => {\n        console.warn(`Failed to open ${filename} in editor: ${err}`)\n      },\n    )\n  },\n}\n\nexport const handleOpenSource = async ({\n  data,\n  openInEditor,\n}: {\n  data: OpenSourceData\n  openInEditor: EditorConfig['open']\n}) => {\n  const { source, line, column } = data.data\n  const lineNum = line ? `${line}` : undefined\n  const columnNum = column ? `${column}` : undefined\n  if (source) {\n    return openInEditor(source, lineNum, columnNum)\n  }\n}\n"],"names":[],"mappings":"AAyBO,MAAM,wBAAsC;AAAA,EACjD,MAAM;AAAA,EACN,MAAM,OAAO,MAAM,YAAY,iBAAiB;AAC9C,UAAM,UAAU,MAAM,OAAO,eAAe,GAAG;AAC/C;AAAA,MACE,GAAG,KAAK,WAAW,KAAK,KAAK,CAAC,GAAG,aAAa,IAAI,UAAU,KAAK,EAAE,GAAG,eAAe,IAAI,YAAY,KAAK,EAAE;AAAA,MAC5G;AAAA,MACA,CAAC,UAAU,QAAQ;AACjB,gBAAQ,KAAK,kBAAkB,QAAQ,eAAe,GAAG,EAAE;AAAA,MAC7D;AAAA,IAAA;AAAA,EAEJ;AACF;AAEO,MAAM,mBAAmB,OAAO;AAAA,EACrC;AAAA,EACA;AACF,MAGM;AACJ,QAAM,EAAE,QAAQ,MAAM,OAAA,IAAW,KAAK;AACtC,QAAM,UAAU,OAAO,GAAG,IAAI,KAAK;AACnC,QAAM,YAAY,SAAS,GAAG,MAAM,KAAK;AACzC,MAAI,QAAQ;AACV,WAAO,aAAa,QAAQ,SAAS,SAAS;AAAA,EAChD;AACF;"}