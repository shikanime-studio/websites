---
import "@fontsource-variable/inter";
import Footer from "../components/Footer.astro";
import Navbar from "../components/Navbar.astro";
import { createD1Database } from "../lib/db";
import { createAuth } from "../lib/auth";

const db = createD1Database(Astro.locals);
const auth = createAuth(db);

const session = await auth.api.getSession({
  headers: Astro.request.headers,
});
---

<Navbar session={session} />
<slot />
<Footer />
