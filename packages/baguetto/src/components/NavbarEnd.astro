---
import NavbarUserMenu from "./NavbarUserMenu.astro";
import LoginButton from "./LoginButton";
import LanguageSwitcher from "./LanguageSwitcher.astro";

interface Props {
  session?: {
    user: {
      name: string;
      image?: string | null;
    };
  } | null;
}
---

<div class="flex items-center gap-2 justify-end">
  <!-- Icons -->
  <button class="btn btn-ghost btn-circle btn-sm text-base-content/80">
    <span class="sr-only">Messages</span>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z" />
    </svg>
  </button>

  <button class="btn btn-ghost btn-circle btn-sm indicator text-base-content/80">
    <span class="sr-only">Notifications</span>
    <span class="indicator-item badge badge-primary badge-xs rounded-full w-2 h-2 p-0 border-2 border-base-100 top-2 right-2"></span>
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
      <path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" />
    </svg>
  </button>

  <LanguageSwitcher />

  <!-- CTA Button -->
  <a href="#" class="btn btn-primary rounded-full text-white normal-case hidden sm:flex px-4 font-bold shadow-sm hover:shadow-md transition-all">
    I'm an artist
  </a>

  <!-- User Menu / Login -->
  <div class="ml-1 flex items-center">
    {
      Astro.props.session ? (
        <NavbarUserMenu user={Astro.props.session.user} />
      ) : (
        <LoginButton client:load />
      )
    }
  </div>
</div>
