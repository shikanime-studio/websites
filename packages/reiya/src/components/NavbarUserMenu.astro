---
import { BsBoxArrowRight, BsFillPersonVcardFill } from "react-icons/bs";
import { getAccount } from "../lib/account";
import { Image } from "astro:assets";
import { getD1Database } from "../lib/util";

const db = getD1Database(Astro.locals);
const account = await getAccount(db, Astro.props.accountId);
console.log(account);
---

<div class="dropdown dropdown-end">
  <label tabIndex={0} class="avatar btn btn-circle btn-ghost btn-sm">
    {
        <div class="rounded-full">
          <Image
            src={account.pictureUrl}
            alt={`${account.name ?? account.email ?? "Me"} Avatar`}
            width={40}
            height={40}
            loading="eager"
          />
        </div>
    }
  </label>
</div>
