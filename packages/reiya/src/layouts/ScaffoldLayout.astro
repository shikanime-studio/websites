---
import "@fontsource-variable/inter";
import Footer from "../components/Footer.astro";
import Navbar from "../components/Navbar.astro";
import { createAuth } from "../lib/auth";
import { createD1Database } from "../lib/db";

const db = createD1Database(Astro.locals);
const auth = createAuth(db);

const session = await auth.api.getSession({
  headers: Astro.request.headers,
});
---

<div class="flex min-h-screen flex-col">
  <Navbar session={session} />
  <main class="grow pt-16">
    <slot />
  </main>
  <Footer />
</div>
